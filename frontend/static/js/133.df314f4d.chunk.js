"use strict";(self.webpackChunkmwtracks=self.webpackChunkmwtracks||[]).push([[133],{98133:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(94560),r=n(5531),i=n(47313),o=n(22408),s=n(58467),l=n(83508),c=n(17592),d=n(30242),u=n(89600),p=n(31095),f=n(61113),h=n(9506),g=n(47131),m=n(38954),x=n(68941),b=n(64013),S=n(46417);var Z=function(e){var t=(0,o.I0)(),n=(0,o.v9)(m.Le),a=(0,o.v9)((function(e){return e.statusApp.statuses.isLoading})),r=i.useMemo((function(){return[{header:"Id",accessorKey:"id",size:60},{header:"Name",accessorKey:"name",size:120},{header:"Color",accessorKey:"color",size:120,Cell:function(e){var t=e.cell;return(0,S.jsx)(p.Z,{size:"small",variant:"outlined",sx:{color:t.getValue(),width:200},children:t.getValue()})}},{header:"Created At",accessorKey:"created_at",sortable:!0,Cell:function(e){var t=e.cell;return(0,S.jsx)("span",{children:t.getValue()&&(0,u.Z)(new Date(t.getValue()),"dd-MM-y hh:mm:ss")})}}]}),[]);return 0==n.length?(0,S.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,S.jsx)(f.Z,{color:"text.secondary",variant:"h5",children:"There are no statuses!"})}):(0,S.jsx)(x.Z,{isLoading:a,data:n,columns:r,renderRowActions:function(e){var n=e.row;e.table;return(0,S.jsxs)(h.Z,{sx:{display:"flex",flexWrap:"nowrap",gap:"8px"},children:[(0,S.jsx)(g.Z,{color:"secondary",onClick:function(e){e.stopPropagation(),t((0,m._H)(n.original))},children:(0,S.jsx)(b.Z,{size:20,children:"heroicons-outline:pencil-alt"})}),(0,S.jsx)(g.Z,{color:"error",onClick:function(e){e.stopPropagation(),t((0,m.hR)(n.original.id))},children:(0,S.jsx)(b.Z,{size:20,children:"heroicons-outline:trash"})})]})}})},v=(0,n(9038).UY)({statuses:m.ZP}),y=n(1413),w=n(29439),j=n(38706),P=(n(21715),n(75908)),C=n(66149),k=n(4117),N=n(96467),W=n(71263),D=n(30467),R=n(9289),A=n(10546),H=n.n(A),O={name:"",color:"#aabbcc"};var I=function(e){var t=(0,o.I0)(),n=(0,o.v9)((function(e){return e.statusApp.statuses.statusDialog})),a=(0,l.cI)(O),r=a.form,s=a.handleChange,c=a.setForm,d=a.setInForm,u=i.useState(null),h=(0,w.Z)(u,2),x=h[0],b=h[1],Z=(0,i.useCallback)((function(){"edit"===n.type&&n.data&&(c((0,y.Z)({},n.data)),b(n.data.color)),"new"===n.type&&c((0,y.Z)((0,y.Z)({},O),n.data))}),[n.data,n.type,c]);function v(){"edit"===n.type?t((0,m.XB)()):t((0,m.$x)())}function A(e){if(e.preventDefault(),"new"===n.type)t((0,m.O8)(r));else{var a=H()(n.data,r);a.id=r.id,t((0,m.Nf)(a))}v()}return(0,i.useEffect)((function(){n.props.open&&Z()}),[n.props.open,Z]),(0,i.useEffect)((function(){x&&d("color",x)}),[x]),(0,S.jsxs)(C.Z,(0,y.Z)((0,y.Z)({classes:{paper:"m-24 rounded-8"}},n.props),{},{onClose:v,fullWidth:!0,maxWidth:"xs",children:[(0,S.jsx)(P.Z,{position:"static",className:"shadow-md",children:(0,S.jsx)(R.Z,{className:"flex w-full",children:(0,S.jsx)(f.Z,{variant:"subtitle1",color:"inherit",children:"new"===n.type?"New Status":"Edit Status"})})}),(0,S.jsxs)("form",{noValidate:!0,onSubmit:A,className:"flex flex-col md:overflow-hidden",children:[(0,S.jsx)(N.Z,{classes:{root:"p-24"},children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"flex",children:(0,S.jsx)(D.Z,{className:"mb-24",label:"Name",autoFocus:!0,id:"name",name:"name",value:r.name,onChange:s,variant:"outlined",required:!0,fullWidth:!0})}),(0,S.jsx)("div",{className:"flex",children:(0,S.jsx)(D.Z,{className:"mb-24",id:"color",name:"color",value:r.color,onChange:s,variant:"outlined",sx:{backgroundColor:r.color}})}),(0,S.jsx)("div",{className:"flex flex-1",children:(0,S.jsx)(j.gW,{color:r.color,onChange:b})})]})}),(0,S.jsxs)(k.Z,{className:"justify-between pl-16",children:[(0,S.jsx)(p.Z,{variant:"contained",color:"primary",onClick:A,type:"submit",disabled:!(r.name.length>3),children:"new"===n.type?"Add":"Save"}),(0,S.jsx)(g.Z,{onClick:v,children:(0,S.jsx)(W.Z,{children:"close"})})]})]})]}))},z=n(11266),L=(0,c.ZP)(a.Z)((function(e){var t=e.theme;return{"& .PageSimple-header":{backgroundColor:t.palette.background.paper,borderBottomWidth:1,borderStyle:"solid",borderColor:t.palette.divider},"& .PageSimple-toolbar":{},"& .PageSimple-content":{},"& .PageSimple-sidebarHeader":{},"& .PageSimple-sidebarContent":{}}}));var E=(0,r.Z)("statusApp",v)((function(e){var t=(0,o.I0)(),n=(0,i.useRef)(null),a=((0,s.UO)(),(0,d.Z)((function(e){return e.breakpoints.down("lg")})));return(0,l.KW)((function(){t((0,m.JB)())}),[t]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(L,{header:(0,S.jsx)(z.Z,{pageLayout:n,entity:"Statuses",openNewDialog:(0,m.Zc)()}),content:(0,S.jsx)(Z,{}),ref:n,scroll:a?"normal":"content"}),(0,S.jsx)(I,{})]})}))},38954:function(e,t,n){n.d(t,{$x:function(){return v},JB:function(){return d},Le:function(){return x},Nf:function(){return f},O8:function(){return p},XB:function(){return w},Zc:function(){return Z},_H:function(){return y},hR:function(){return h}});var a,r=n(4942),i=n(74165),o=n(15861),s=n(80827),l=n(56573),c="/api/v1/utility/statuses/",d=(0,s.hg)("statusApp/statuses/getStatuses",(0,o.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.get(c);case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),u=(0,s.hg)("statusApp/statuses/getStatus",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var a,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,a=t.uid,e.next=4,l.Z.get(c+a+"/");case 4:return r=e.sent,e.next=7,r.data;case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=(0,s.hg)("statusApp/statuses/addStatus",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,l.Z.post(c,t);case 3:return a=e.sent,e.next=6,a.data;case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,s.hg)("statusApp/statuses/updateStatus",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var a,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,a=t.id,delete t.id,e.next=5,l.Z.patch(c+a+"/",t);case 5:return r=e.sent,e.next=8,r.data;case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,s.hg)("statusApp/statuses/removeStatus",function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,l.Z.delete(c+t+"/");case 3:return a=e.sent,e.next=6,a.data;case 6:return e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=(0,s.HF)({}),m=g.getSelectors((function(e){return e.statusApp.statuses})),x=m.selectAll,b=(m.selectById,(0,s.oM)({name:"statusApp/statuses",initialState:g.getInitialState({statusDialog:{type:"new",props:{open:!1},data:null}}),reducers:{openNewStatusDialog:function(e,t){e.statusDialog={type:"new",props:{open:!0},data:null}},closeNewStatusDialog:function(e,t){e.statusDialog={type:"new",props:{open:!1},data:null}},openEditStatusDialog:function(e,t){e.statusDialog={type:"edit",props:{open:!0},data:t.payload}},closeEditStatusDialog:function(e,t){e.statusDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:(a={},(0,r.Z)(a,h.fulfilled,(function(e,t){g.removeOne(e,t.payload)})),(0,r.Z)(a,f.fulfilled,(function(e,t){t.payload.length>0?g.upsertMany(e,t.payload):g.upsertOne(e,t.payload)})),(0,r.Z)(a,p.fulfilled,(function(e,t){t.payload.length>0?g.upsertMany(e,t.payload):g.upsertOne(e,t.payload)})),(0,r.Z)(a,u.fulfilled,(function(e,t){g.upsertOne(e,t.payload)})),(0,r.Z)(a,d.fulfilled,(function(e,t){g.setAll(e,t.payload)})),a)})),S=b.actions,Z=S.openNewStatusDialog,v=S.closeNewStatusDialog,y=S.openEditStatusDialog,w=S.closeEditStatusDialog;t.ZP=b.reducer},11266:function(e,t,n){var a=n(61113),r=n(70501),i=n(56605),o=n(31095),s=(n(47313),n(2135)),l=n(65503),c=n(64013),d=n(3394),u=n(22408),p=n(46417);t.Z=function(e){var t=(0,u.I0)(),n=l.Z.location.pathname,f=e.openNewDialog,h=e.entity,g=e.searchText,m=e.setSearchText;return(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-8 px-16 md:px-16",children:[(0,p.jsx)(a.Z,{component:s.rU,to:n,role:"button",initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 font-bold tracking-tight",children:h}),(0,p.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[m&&(0,p.jsxs)(r.Z,{className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,p.jsx)(i.Z,{placeholder:"Search project",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:g,inputProps:{"aria-label":"Search"},onChange:function(e){return t(m(e))}}),(0,p.jsx)(c.Z,{color:"disabled",children:"heroicons-solid:search"})]}),f?(0,p.jsxs)(o.Z,{variant:"contained",color:"secondary",onClick:function(e){e.stopPropagation(),t(f)},children:[(0,p.jsx)(c.Z,{size:20,children:"heroicons-outline:plus"}),(0,p.jsx)("span",{className:"mx-8",children:"Create"})]}):(0,p.jsxs)(o.Z,{variant:"contained",color:"secondary",component:d.Z,to:"new/edit",children:[(0,p.jsx)(c.Z,{size:20,children:"heroicons-outline:plus"}),(0,p.jsx)("span",{className:"mx-8",children:"Create"})]})]})]})}},94560:function(e,t,n){n.d(t,{Z:function(){return R}});var a=n(30168),r=n(4942),i=n(1413),o=n(45987),s=n(31835),l=n(17592),c=n(83061),d=n(47313),u=n(52437),p=n(46417);var f=function(e){return(0,p.jsx)("div",{className:(0,c.Z)("PageSimple-header",e.className),children:(0,p.jsx)("div",{className:"container",children:e.header&&e.header})})},h=n(29439),g=n(33947),m=n(57451),x=n(60211),b=n(22408),S=n(19860),Z=n(6396),v=n(95227);var y=function(e){var t=(0,S.Z)(),n=(0,b.v9)((0,v.lK)(t.palette.primary.main));return(0,p.jsxs)(s.Z,{enable:e.innerScroll,children:[e.header&&(0,p.jsx)(Z.Z,{theme:n,children:(0,p.jsx)("div",{className:(0,c.Z)("PageSimple-sidebarHeader",e.variant),children:e.header})}),e.content&&(0,p.jsx)("div",{className:"PageSimple-sidebarContent",children:e.content})]})},w=(0,d.forwardRef)((function(e,t){var n=e.open,a=e.position,r=e.variant,o=(e.rootRef,e.sidebarWidth),s=(0,d.useState)(n),l=(0,h.Z)(s,2),u=l[0],f=l[1];(0,d.useImperativeHandle)(t,(function(){return{toggleSidebar:b}}));var b=(0,d.useCallback)((function(e){f(e)}),[]);return(0,d.useEffect)((function(){b(n)}),[b,n]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.Z,{lgUp:"permanent"===r,children:(0,p.jsx)(x.Z,{variant:"temporary",anchor:a,open:u,onOpen:function(e){},onClose:function(){return null===e||void 0===e?void 0:e.onClose()},disableSwipeToOpen:!0,classes:{root:(0,c.Z)("PageSimple-sidebarWrapper",r),paper:(0,c.Z)("PageSimple-sidebar",r,"left"===a?"PageSimple-leftSidebar":"PageSimple-rightSidebar")},sx:{"& .MuiPaper-root":{width:o,maxWidth:"100%"}},ModalProps:{keepMounted:!0},BackdropProps:{classes:{root:"PageSimple-backdrop"}},style:{position:"absolute"},children:(0,p.jsx)(y,(0,i.Z)({},e))})}),"permanent"===r&&(0,p.jsx)(m.Z,{lgDown:!0,children:(0,p.jsx)(g.ZP,{variant:"permanent",anchor:a,className:(0,c.Z)("PageSimple-sidebarWrapper",r,u?"opened":"closed","left"===a?"PageSimple-leftSidebar":"PageSimple-rightSidebar"),open:u,onClose:null===e||void 0===e?void 0:e.onClose,classes:{paper:(0,c.Z)("PageSimple-sidebar border-0",r)},children:(0,p.jsx)(y,(0,i.Z)({},e))})})]})}));w.defaultProps={open:!0};var j,P=w,C=["theme"],k=(0,l.ZP)("div")((function(e){var t=e.theme,n=(0,o.Z)(e,C);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.default,"&.PageSimple-scroll-content":{height:"100%"},"& .PageSimple-wrapper":(0,i.Z)({display:"flex",flexDirection:"row",flex:"1 1 auto",zIndex:2,minWidth:0,height:"100%",backgroundColor:t.palette.background.default},"content"===n.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0,overflow:"hidden"}),"& .PageSimple-header":{display:"flex",flex:"0 0 auto",backgroundSize:"cover"},"& .PageSimple-topBg":{position:"absolute",left:0,right:0,top:0,height:N,pointerEvents:"none"},"& .PageSimple-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",flex:"1 1 auto",overflow:"hidden",zIndex:9999},"& .PageSimple-toolbar":{height:W,minHeight:W,display:"flex",alignItems:"center"},"& .PageSimple-content":{display:"flex",flex:"1 1 auto",alignItems:"start",minHeight:0,overflowY:"auto"},"& .PageSimple-sidebarWrapper":{overflow:"hidden",backgroundColor:"transparent",position:"absolute","&.permanent":(0,r.Z)({},t.breakpoints.up("lg"),{position:"relative",marginLeft:0,marginRight:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),"&.closed":{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),"&.PageSimple-leftSidebar":{marginLeft:-n.leftsidebarwidth},"&.PageSimple-rightSidebar":{marginRight:-n.rightsidebarwidth}}})},"& .PageSimple-sidebar":{position:"absolute",backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&.permanent":(0,r.Z)({},t.breakpoints.up("lg"),{position:"relative"}),maxWidth:"100%",height:"100%"},"& .PageSimple-leftSidebar":(0,r.Z)({width:n.leftsidebarwidth},t.breakpoints.up("lg"),{borderRight:"1px solid ".concat(t.palette.divider),borderLeft:0}),"& .PageSimple-rightSidebar":(0,r.Z)({width:n.rightsidebarwidth},t.breakpoints.up("lg"),{borderLeft:"1px solid ".concat(t.palette.divider),borderRight:0}),"& .PageSimple-sidebarHeader":{height:N,minHeight:N,backgroundColor:t.palette.primary.dark,color:t.palette.primary.contrastText},"& .PageSimple-sidebarHeaderInnerSidebar":{backgroundColor:"transparent",color:"inherit",height:"auto",minHeight:"auto"},"& .PageSimple-sidebarContent":{display:"flex",flexDirection:"column",minHeight:"100%"},"& .PageSimple-backdrop":{position:"absolute"}}})),N=120,W=64,D=(0,d.forwardRef)((function(e,t){var n=(0,d.useRef)(null),a=(0,d.useRef)(null),r=(0,d.useRef)(null);return(0,d.useImperativeHandle)(t,(function(){return{rootRef:r,toggleLeftSidebar:function(e){n.current.toggleSidebar(e)},toggleRightSidebar:function(e){a.current.toggleSidebar(e)}}})),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{styles:function(t){return(0,i.Z)((0,i.Z)({},"page"!==e.scroll&&{"#core-toolbar":{position:"static"},"#core-footer":{position:"static"}}),"page"===e.scroll&&{"#core-toolbar":{position:"sticky",top:0},"#core-footer":{position:"sticky",bottom:0}})}}),(0,p.jsx)(k,{className:(0,c.Z)("PageSimple-root","PageSimple-scroll-".concat(e.scroll),e.className),ref:r,scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:(0,p.jsx)("div",{className:"flex flex-auto flex-col z-10 h-full",children:(0,p.jsxs)("div",{className:"PageSimple-wrapper",children:[e.leftSidebarContent&&(0,p.jsx)(P,{position:"left",content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",ref:n,rootRef:r,open:e.leftSidebarOpen,onClose:e.leftSidebarOnClose,sidebarWidth:e.leftSidebarWidth}),(0,p.jsxs)("div",{className:"PageSimple-contentWrapper",children:[e.header&&(0,p.jsx)(f,{header:e.header}),e.content&&(0,p.jsx)(s.Z,{enable:"content"===e.scroll,className:(0,c.Z)("PageSimple-content container"),children:e.content})]}),e.rightSidebarContent&&(0,p.jsx)(P,{position:"right",content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",ref:a,rootRef:r,open:e.rightSidebarOpen,onClose:e.rightSidebarOnClose,sidebarWidth:e.rightSidebarWidth})]})})})]})}));D.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240};var R=(0,d.memo)((0,l.ZP)(D)(j||(j=(0,a.Z)([""]))))},68941:function(e,t,n){var a=n(1413),r=n(64013),i=n(72034),o=n(3394),s=n(88064),l=n(9506),c=n(47131),d=n(46417);t.Z=function(e){var t=e.isLoading;return(0,d.jsx)(i.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-col flex-auto w-full max-h-full",children:(0,d.jsx)(s.ZP,(0,a.Z)({enableFullScreenToggle:!1,enableColumnResizing:!0,enableColumnOrdering:!0,enablePinning:!0,enableColumnDragging:!1,enableRowSelection:!0,enableRowActions:!0,enableStickyHeader:!0,muiTableContainerProps:{sx:{maxHeight:document.documentElement.offsetHeight-250}},state:{isLoading:t,showSkeletons:t},displayColumnDefOptions:{"mrt-row-actions":{header:"Actions",size:70}},renderRowActions:function(e){var t=e.row;e.table;return(0,d.jsx)(l.Z,{sx:{display:"flex",flexWrap:"nowrap",gap:"8px"},children:(0,d.jsx)(c.Z,{variant:"contained",color:"secondary",component:o.Z,to:t.original.id+"/edit",children:(0,d.jsx)(r.Z,{size:20,children:"heroicons-outline:pencil-alt"})})})},positionToolbarAlertBanner:"bottom"},e))})}}}]);