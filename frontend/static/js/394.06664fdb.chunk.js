"use strict";(self.webpackChunkmwtracks=self.webpackChunkmwtracks||[]).push([[394],{39300:function(e,t,n){n.d(t,{IY:function(){return v},Ls:function(){return S},Nq:function(){return d},Rf:function(){return c},YN:function(){return w},bz:function(){return Z},cn:function(){return l},lP:function(){return g},oY:function(){return f},tI:function(){return h}});var r,a=n(4942),s=n(74165),i=n(15861),u=n(80827),o=n(56573),p="/api/v1/account/users/",c=(0,u.hg)("userApp/users/getUsers",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=null===t||void 0===t?void 0:t.id,a=null===t||void 0===t?void 0:t.entity,i="group"===a&&r?"/api/v1/user/group/"+r+"/users/":"project"===a&&r?"/api/v1/entity/project/"+r+"/users/":p,null===t||void 0===t||delete t.id,null===t||void 0===t||delete t.entity,e.next=8,o.Z.get(i,{params:t}).then((function(e){return e.data})).catch((function(e){console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=(0,u.hg)("userApp/users/addUser",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,delete t.avatar,console.log(t),e.next=5,o.Z.post(p,t);case 5:return r=e.sent,e.next=8,r.data;case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d=(0,u.hg)("userApp/users/updateUser",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,r=t.id,delete t.id,e.next=5,o.Z.patch(p+r+"/",t);case 5:return a=e.sent,e.next=8,a.data;case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,u.hg)("userApp/users/addUserToProject",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch,n.getState,t.projects.forEach((function(e,n){o.Z.post("/api/v1/entity/project/"+e+"/add_users/",t.users).data}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),v=(0,u.hg)("userApp/users/removeUserFromProjects",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch,n.getState,t.projects.forEach((function(e,n){o.Z.post("/api/v1/entity/project/"+e+"/remove_users/",t.users).data}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,u.hg)("userApp/users/addUserToGroups",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch,n.getState,t.users.forEach((function(e,n){o.Z.post(p+e+"/add_groups/",t.groups).data}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=(0,u.hg)("userApp/users/removeUserFromGroups",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.dispatch,n.getState,t.users.forEach((function(e,n){o.Z.post(p+e+"/remove_groups/",t.groups).data}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=(0,u.hg)("userApp/users/removeUser",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,o.Z.delete(p+t+"/");case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Z=(0,u.hg)("userApp/users/removeUsers",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.dispatch,n.getState,t.forEach((function(e,t){r(d({id:e,is_active:!1}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=(0,u.HF)({}),x=y.getSelectors((function(e){return e.userApp.users})),w=x.selectAll,S=x.selectById,A=(0,u.oM)({name:"userApp/users",initialState:y.getInitialState({totalCount:0,isLoading:!0}),extraReducers:(r={},(0,a.Z)(r,m.fulfilled,y.removeOne),(0,a.Z)(r,d.fulfilled,y.upsertOne),(0,a.Z)(r,l.fulfilled,y.addOne),(0,a.Z)(r,c.pending,(function(e,t){e.isLoading=!0})),(0,a.Z)(r,c.fulfilled,(function(e,t){var n=t.payload;y.setAll(e,(null===n||void 0===n?void 0:n.results)||n),e.totalCount=(null===n||void 0===n?void 0:n.count)||n.length,e.isLoading=!1})),r)});t.ZP=A.reducer},22995:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(16554),a=n(5531),s=n(22408),i=n(30242),u=n(9038),o=n(14629),p=n(94058),c=n(39300),l=(0,u.UY)({assets:o.ZP,utilsteps:p.ZP,users:c.ZP}),d=n(1413),f=n(29439),v=n(83508),h=n(75908),g=n(32729),m=n(31095),Z=n(66149),y=n(4117),x=n(96467),w=n(71263),S=n(47131),A=n(30467),C=n(58467),j=n(9289),D=n(61113),b=n(47313),N=n(10546),k=n.n(N),U=n.p+"static/media/sample_create_asset.d68a6ef3bbe413174d8e.csv",_=n.p+"static/media/sample_update_asset.5039bfd435dc2dd40376.csv",P=n(46417),I={prefix:"",asset_type:"",description:"",project:"",client_name:""};var E=function(e){var t=(0,s.I0)(),n=(0,C.UO)(),r=e.assetDialog,a=(e.assetIds,n.uid.split(":")[0].toLowerCase()),i=["Fx","Set","Prop","Vehicle","Character"],u=(0,v.cI)(I),p=u.form,c=u.handleChange,l=u.setForm,N=u.setInForm,E=u.resetForm,M=(0,b.useState)([]),F=(0,f.Z)(M,2),L=F[0],T=F[1],O=(0,b.useCallback)((function(){E(),"edit"===r.type&&r.data&&l((0,d.Z)({},r.data)),"new"===r.type&&(l((0,d.Z)((0,d.Z)({},I),r.data)),N("project",a))}),[r.data,r.type,l]);function W(){"edit"===r.type?t((0,o.Hp)()):"new"===r.type?t((0,o.Wf)()):"multiple"===r.type?t((0,o.vj)()):"csvCreate"===r.type?t((0,o.sN)()):t((0,o.V3)()),T([])}function V(e){if(e.preventDefault(),"csvCreate"===r.type&&L.length>0)t((0,o.ZJ)(L));else if("csvUpdate"===r.type&&L.length>0)t((0,o.NC)({multipleAssetList:L,project:a}));else if("multiple"===r.type&&r.data&&r.data.length>0){var n=r.data.map((function(e){var t=k()(I,p);return t.uid=e,t}));t((0,o.NC)({multipleAssetList:n,project:a}))}else if("new"===r.type)t((0,o.ZJ)(p));else{var s=k()(r.data,p);s.id=p.uid,t((0,o.dQ)(s))}W()}return(0,b.useEffect)((function(){r.props.open&&O()}),[r.props.open,O]),(0,P.jsxs)(Z.Z,(0,d.Z)((0,d.Z)({classes:{paper:"m-24 rounded-8"}},r.props),{},{onClose:W,fullWidth:!0,maxWidth:r.type.startsWith("csv")?"md":"xs",children:[(0,P.jsx)(h.Z,{position:"static",className:"shadow-md",children:(0,P.jsxs)(j.Z,{className:"flex w-full justify-between",children:[(0,P.jsx)(D.Z,{variant:"subtitle1",color:"inherit",children:"new"===r.type?"New Asset":"multiple"===r.type?"Multiple Asset":"edit"===r.type?"Edit Asset":"csvCreate"===r.type?"Create Asset from CSV":"Update Asset from CSV"}),(0,P.jsx)(D.Z,{variant:"subtitle1",color:"inherit",children:a&&a.toUpperCase()})]})}),(0,P.jsxs)("form",{noValidate:!0,onSubmit:V,className:"flex flex-col md:overflow-hidden",children:[(0,P.jsx)(x.Z,{classes:{root:"p-24"},children:(0,P.jsxs)(P.Fragment,{children:["csvCreate"===r.type&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("a",{variant:"contained",color:"secondary",href:U,download:"SampleCreateAsset.csv",children:"Download Sample CSV"})}),"csvUpdate"===r.type&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("a",{variant:"contained",color:"secondary",href:_,download:"SampleUpdateAsset.csv",children:"Download Sample CSV"})}),["new","edit","multiple"].includes(r.type)&&(0,P.jsxs)(P.Fragment,{children:["edit"===r.type&&(0,P.jsx)("div",{className:"flex mb-16 justify-center",children:(0,P.jsx)(D.Z,{variant:"subtitle1",color:"secondary",children:p.uid})}),"new"===r.type&&(0,P.jsx)("div",{className:"flex",children:(0,P.jsx)(A.Z,{className:"mb-12",label:"Name",autoFocus:!0,id:"name",name:"name",value:p.name,onChange:c,variant:"outlined",required:!0,fullWidth:!0})}),(0,P.jsx)("div",{className:"flex",children:(0,P.jsx)(A.Z,{className:"mb-12",label:"Prefix",id:"prefix",name:"prefix",value:p.prefix,onChange:c,variant:"outlined",fullWidth:!0})}),(0,P.jsx)("div",{className:"flex",children:(0,P.jsx)(A.Z,{className:"mb-12",label:"Client Name",id:"client_name",name:"client_name",value:p.client_name,onChange:c,variant:"outlined",fullWidth:!0})}),(0,P.jsx)("div",{className:"mb-12",children:(0,P.jsx)(g.Z,{value:p.asset_type,onChange:function(e,t){N("asset_type",t)},disableClearable:!0,id:"asset_type",options:i,renderInput:function(e){return(0,P.jsx)(A.Z,(0,d.Z)((0,d.Z)({},e),{},{label:"Asset Type",required:!0,variant:"outlined"}))}})}),(0,P.jsx)("div",{className:"flex",children:(0,P.jsx)(A.Z,{className:"mb-12",label:"Decription",id:"description",name:"description",value:p.description,onChange:c,variant:"outlined",fullWidth:!0})})]})]})}),(0,P.jsxs)(y.Z,{className:"justify-between pl-16",children:[(0,P.jsx)(m.Z,{variant:"contained",color:"primary",onClick:V,type:"submit",disabled:!(r.type.startsWith("csv")?L.length>0:"new"===r.type?p.name&&p.asset_type:p.asset_type||p.description||p.prefix||p.client_name),children:["edit","multiple","csvUpdate"].includes(r.type)?"Update":"Create"}),(0,P.jsx)(S.Z,{onClick:W,children:(0,P.jsx)(w.Z,{children:"close"})})]})]})]}))},M=n(65503),F=n(89600),L=n(88584);var T=function(e){var t=(0,s.I0)(),n=(0,C.UO)(),r=(0,s.v9)(o.rv),a=(0,s.v9)((function(e){return e.assetApp.assets.isLoading})),i=(0,s.v9)((function(e){return e.assetApp.assets.totalCount})),u=(0,b.useState)(!1),p=(0,f.Z)(u,2),c=p[0],l=p[1],d=(0,b.useState)(""),v=(0,f.Z)(d,2),h=v[0],g=v[1],m=(0,b.useState)([]),Z=(0,f.Z)(m,2),y=Z[0],x=Z[1],w=(0,b.useState)({pageIndex:0,pageSize:25}),S=(0,f.Z)(w,2),A=S[0],j=S[1];(0,b.useEffect)((function(){!function(){r.length&&l(!0);var e={page_size:A.pageSize,start:A.pageIndex*A.pageSize};e[n.entity]=n.uid,h&&(e.search=h);var a=y.length>0&&y.map((function(e){return e.desc?"-"+e.id:e.id}))||[];a.length>0&&(e.ordering=a.join(",")),t((0,o.Vh)(e)),l(!1)}()}),[h,A.pageIndex,A.pageSize,y,n]),(0,b.useEffect)((function(){j({pageIndex:0,pageSize:25})}),[h]);var N=b.useMemo((function(){return[{header:"Id",accessorKey:"uid",Cell:function(e){var t=e.row;return(0,P.jsx)(D.Z,{className:"cursor-pointer",onClick:function(e){e.preventDefault(),M.Z.push("/entity/asset/"+t.original.uid+"/overview")},children:t.original.uid})}},{header:"Name",accessorKey:"name"},{header:"Asset Type",accessorKey:"asset_type"},{header:"Prefix",accessorKey:"prefix"},{header:"Client Name",accessorKey:"client_name"},{header:"Description",accessorKey:"description"},{header:"Created At",accessorKey:"created_at",Cell:function(e){var t=e.row;return(0,P.jsx)("span",{children:t.original.created_at&&(0,F.Z)(new Date(t.original.created_at),"dd-MM-y hh:mm:ss")})}}]}),[]);return(0,P.jsx)(L.Z,{columns:N,data:r,onGlobalFilterChange:g,onPaginationChange:j,onSortingChange:x,rowCount:i,state:{globalFilter:h,isLoading:a,pagination:A,showProgressBars:c,sorting:y},openEditDialog:o.wI,openNewDialog:o.L4,removeEntities:o.qi,openMultipleDialog:o.Pk,openCsvCreateDialog:o.rW,openCsvUpdateDialog:o.vf})},O=n(22116);var W=(0,a.Z)("assetApp",l)((function(){var e=(0,i.Z)((function(e){return e.breakpoints.down("lg")})),t=(0,s.v9)((function(e){return e.assetApp.assets.assetDialog})),n=(0,s.v9)((function(e){return e.assetApp.assets.ids})),a=(0,s.v9)((function(e){return e.assetApp.assets.totalCount}));return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.Z,{header:(0,P.jsx)(O.Z,{entity:"Asset",totalCount:a}),content:(0,P.jsx)(T,{}),scroll:e?"normal":"content"}),(0,P.jsx)(E,{assetDialog:t,assetIds:n})]})}))},14629:function(e,t,n){n.d(t,{Hp:function(){return k},L4:function(){return D},NC:function(){return m},Nh:function(){return v},Pk:function(){return U},V3:function(){return M},Vh:function(){return f},Wf:function(){return b},ZJ:function(){return h},_X:function(){return A},dQ:function(){return g},qi:function(){return y},rW:function(){return P},rv:function(){return S},sN:function(){return I},vf:function(){return E},vj:function(){return _},wI:function(){return N}});var r,a=n(4942),s=n(74165),i=n(1413),u=n(15861),o=n(80827),p=n(56573),c=n(32600),l=(n(76419),n(18390)),d="/api/v1/entity/assets/",f=(0,o.hg)("assetApp/asset/getAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,a,u,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=null===t||void 0===t?void 0:t.uid,a=null===t||void 0===t?void 0:t.entity,u=a&&r?"/api/v1/entity/"+a+"s/"+r+"/assets/":d,null===(o=(0,i.Z)({},t))||void 0===o||delete o.uid,null===o||void 0===o||delete o.entity,e.next=9,p.Z.get(u,{params:o}).then((function(e){return e.data})).catch((function(e){return console.error(e),[]}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),v=(0,o.hg)("assetApp/asset/getAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,a,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,r=n.getState,t=t||r().overviewApp.assets.routeParams,a=t.uid,e.next=5,p.Z.get(d+a+"/");case 5:return i=e.sent,e.next=8,i.data;case 8:return u=e.sent,e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,o.hg)("assetApp/asset/addAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,p.Z.post(d,t);case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=(0,o.hg)("assetApp/asset/updateAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,r=t.id,delete t.id,e.next=5,p.Z.patch(d+r+"/",t);case 5:return a=e.sent,e.next=8,a.data;case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=(0,o.hg)("assetApp/asset/updateMultipleAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,a,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.multipleAssetList,a=t.project,n.dispatch,n.getState,e.next=4,p.Z.post("/api/v1/entity/projects/"+a+"/asset_bulk_update/",r);case 4:return i=e.sent,e.next=7,i.data;case 7:return u=e.sent,e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Z=(0,o.hg)("assetApp/asset/removeAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,p.Z.delete(d+t+"/").then((function(e){return console.info(e),t})).catch((function(e){console.error(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),y=(0,o.hg)("assetApp/asset/removeAsset",function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.dispatch,n.getState,(0,c._1)({title:"Confirm to delete assets !!!",message:"Are you sure, you want to remove selected assets ?",buttons:[{label:"Yes",onClick:function(){return t.map((function(e){r(Z(e))})),r((0,l.PV)({message:"Asset has been removed successfully !",veriant:"success"})),t}},{label:"No",onClick:function(){return console.log("No action to remove assets")}}]});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x=(0,o.HF)({selectId:function(e){return e.uid}}),w=x.getSelectors((function(e){return e.assetApp?e.assetApp.assets:e.overviewApp.assets})),S=w.selectAll,A=w.selectById,C=(0,o.oM)({name:"assetApp/assets",initialState:x.getInitialState({totalCount:0,isLoading:!0,assetDialog:{type:"new",props:{open:!1},data:null}}),reducers:{openNewAssetDialog:function(e,t){e.assetDialog={type:"new",props:{open:!0},data:null}},closeNewAssetDialog:function(e,t){e.assetDialog={type:"new",props:{open:!1},data:null}},openEditAssetDialog:function(e,t){e.assetDialog={type:"edit",props:{open:!0},data:t.payload}},closeEditAssetDialog:function(e,t){e.assetDialog={type:"edit",props:{open:!1},data:null}},openMultipleAssetDialog:function(e,t){e.assetDialog={type:"multiple",props:{open:!0},data:t.payload}},closeMultipleAssetDialog:function(e,t){e.assetDialog={type:"multiple",props:{open:!1},data:null}},openCsvCreateDialog:function(e,t){e.assetDialog={type:"csvCreate",props:{open:!0},data:t.payload}},closeCsvCreateDialog:function(e,t){e.assetDialog={type:"csvCreate",props:{open:!1},data:null}},openCsvUpdateDialog:function(e,t){e.assetDialog={type:"csvUpdate",props:{open:!0},data:t.payload}},closeCsvUpdateDialog:function(e,t){e.assetDialog={type:"csvUpdate",props:{open:!1},data:null}}},extraReducers:(r={},(0,a.Z)(r,Z.fulfilled,(function(e,t){x.removeOne(e,t.payload)})),(0,a.Z)(r,g.fulfilled,(function(e,t){t.payload.length>0?x.upsertMany(e,t.payload):x.upsertOne(e,t.payload)})),(0,a.Z)(r,h.fulfilled,(function(e,t){t.payload.length>0?x.upsertMany(e,t.payload):x.upsertOne(e,t.payload)})),(0,a.Z)(r,v.fulfilled,(function(e,t){x.upsertOne(e,t.payload)})),(0,a.Z)(r,v.pending,(function(e,t){e.isLoading=!0,x.setAll(e,[])})),(0,a.Z)(r,v.fulfilled,(function(e,t){var n=t.payload;x.setAll(e,(null===n||void 0===n?void 0:n.results)||n),e.totalCount=(null===n||void 0===n?void 0:n.count)||n.length,e.isLoading=!1})),(0,a.Z)(r,m.fulfilled,(function(e,t){x.upsertMany(e,t.payload)})),r)}),j=C.actions,D=j.openNewAssetDialog,b=j.closeNewAssetDialog,N=j.openEditAssetDialog,k=j.closeEditAssetDialog,U=j.openMultipleAssetDialog,_=j.closeMultipleAssetDialog,P=j.openCsvCreateDialog,I=j.closeCsvCreateDialog,E=j.openCsvUpdateDialog,M=j.closeCsvUpdateDialog;t.ZP=C.reducer},94058:function(e,t,n){n.d(t,{Ro:function(){return S},Td:function(){return f},Ub:function(){return x},Zo:function(){return m},dm:function(){return d},h9:function(){return w},jG:function(){return c},mz:function(){return v},xI:function(){return A}});var r,a=n(4942),s=n(74165),i=n(15861),u=n(80827),o=n(56573),p="/api/v1/utility/utilsteps/",c=(0,u.hg)("utilStepApp/utilStep/getUtilSteps",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,t=t||r().utilStepApp.utilSteps.routeParams,e.next=4,o.Z.get(p,{params:t});case 4:return a=e.sent,e.next=7,a.data;case 7:return i=e.sent,e.abrupt("return",{data:i,routeParams:t});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=(0,u.hg)("utilStepApp/utilStep/getStep",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a,i,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,r=n.getState,t=t||r().utilStepApp.utilSteps.routeParams,a=t.uid,e.next=5,o.Z.get(p+a+"/");case 5:return i=e.sent,e.next=8,i.data;case 8:return u=e.sent,e.abrupt("return",{data:u,routeParams:t});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d=(0,u.hg)("utilStepApp/utilStep/addStep",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,o.Z.post(p,t);case 3:return r=e.sent,e.next=6,r.data;case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=(0,u.hg)("utilStepApp/utilStep/updateStep",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,r=t.id,delete t.id,e.next=5,o.Z.patch(p+r+"/",t);case 5:return a=e.sent,e.next=8,a.data;case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),v=(0,u.hg)("utilStepApp/utilStep/removeStep",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,n.getState,e.next=3,o.Z.delete(p+t+"/");case 3:return r=e.sent,e.next=6,r.data;case 6:return e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=(0,u.HF)({}),g=h.getSelectors((function(e){return e.utilStepApp.utilSteps})),m=g.selectAll,Z=(g.selectById,(0,u.oM)({name:"utilStepApp/utilStep",initialState:h.getInitialState({searchText:"",routeParams:{},stepDialog:{type:"new",props:{open:!1},data:null}}),reducers:{setStepsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},resetStepsSearchText:function(e,t){e.searchText=""},openNewUtilStepDialog:function(e,t){e.stepDialog={type:"new",props:{open:!0},data:null}},closeNewUtilStepDialog:function(e,t){e.stepDialog={type:"new",props:{open:!1},data:null}},openEditUtilStepDialog:function(e,t){e.stepDialog={type:"edit",props:{open:!0},data:t.payload}},closeEditUtilStepDialog:function(e,t){e.stepDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:(r={},(0,a.Z)(r,v.fulfilled,(function(e,t){h.removeOne(e,t.payload)})),(0,a.Z)(r,f.fulfilled,(function(e,t){t.payload.length>0?h.upsertMany(e,t.payload):h.upsertOne(e,t.payload)})),(0,a.Z)(r,d.fulfilled,(function(e,t){t.payload.length>0?h.upsertMany(e,t.payload):h.upsertOne(e,t.payload)})),(0,a.Z)(r,l.fulfilled,(function(e,t){var n=t.payload,r=n.data,a=n.routeParams;h.upsertOne(e,r),e.routeParams=a,e.searchText=""})),(0,a.Z)(r,c.fulfilled,(function(e,t){var n=t.payload,r=n.data,a=n.routeParams;h.setAll(e,r),e.routeParams=a,e.searchText=""})),r)})),y=Z.actions,x=(y.setStepsSearchText,y.resetStepsSearchText,y.openNewUtilStepDialog),w=y.closeNewUtilStepDialog,S=y.openEditUtilStepDialog,A=y.closeEditUtilStepDialog;t.ZP=Z.reducer}}]);