"use strict";(self.webpackChunkmwtracks=self.webpackChunkmwtracks||[]).push([[829],{8829:function(e,s,r){r.r(s);var a=r(1413),t=r(62563),l=r(75627),i=r(31095),n=r(30467),o=r(61113),c=r(21933),d=r(49614),m=r(70501),u=r(58467),w=r(2135),x=r(9506),h=r(5478),f=(r(47313),r(18390)),p=r(22408),j=r(30900),v=r(46417),y=c.Ry().shape({new_password:c.Z_().required("Please enter your new_password.").min(8,"Password is too short - should be 8 chars minimum."),re_new_password:c.Z_().oneOf([c.iH("new_password"),null],"Passwords must match")}),g={new_password:"",re_new_password:""};s.default=function(){var e=(0,p.I0)(),s=(0,u.UO)(),r=(0,l.cI)({mode:"onChange",defaultValues:g,resolver:(0,t.X)(y)}),c=r.control,_=r.formState,b=r.handleSubmit,N=r.reset,Z=_.isValid,k=_.dirtyFields,P=_.errors;return(0,v.jsx)("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-1 min-w-0",children:(0,v.jsxs)(x.Z,{className:"relative md:flex flex-col flex-auto items-center justify-center w-full h-full p-64 lg:px-112 overflow-hidden",sx:{backgroundColor:"primary.main"},children:[(0,v.jsx)("svg",{className:"absolute inset-0 pointer-events-none",viewBox:"0 0 960 540",width:"100%",height:"100%",preserveAspectRatio:"xMidYMax slice",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsxs)(x.Z,{component:"g",sx:{color:"primary.light"},className:"opacity-20",fill:"none",stroke:"currentColor",strokeWidth:"100",children:[(0,v.jsx)("circle",{r:"234",cx:"196",cy:"23"}),(0,v.jsx)("circle",{r:"234",cx:"790",cy:"491"})]})}),(0,v.jsxs)(x.Z,{component:"svg",className:"absolute -top-64 -right-64 opacity-20",sx:{color:"primary.dark"},viewBox:"0 0 220 192",width:"220px",height:"192px",fill:"none",children:[(0,v.jsx)("defs",{children:(0,v.jsx)("pattern",{id:"837c3e70-6c3a-44e6-8854-cc48c737b659",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,v.jsx)("rect",{x:"0",y:"0",width:"4",height:"4",fill:"currentColor"})})}),(0,v.jsx)("rect",{width:"220",height:"192",fill:"url(#837c3e70-6c3a-44e6-8854-cc48c737b659)"})]}),(0,v.jsx)("div",{className:"flex flex-col flex-auto items-center sm:justify-center min-w-0",children:(0,v.jsx)(m.Z,{className:"w-full sm:w-auto min-h-full sm:min-h-auto p-32 sm:rounded-2xl sm:shadow",children:(0,v.jsxs)("div",{className:"w-full max-w-320 sm:w-320 mx-auto sm:mx-0",children:[(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(h.Z,{})}),(0,v.jsx)("h1",{className:"text-center mt-8 font-bold leading-9 tracking-tight",children:"Reset your password"}),(0,v.jsx)("div",{className:"flex justify-center items-baseline mt-2 font-medium",children:(0,v.jsx)(o.Z,{children:"Create a new password for your account"})}),(0,v.jsxs)("form",{name:"resetPasswordForm",noValidate:!0,className:"flex flex-col justify-center w-full mt-32",onSubmit:b((function(r){var a=r.new_password,t=r.re_new_password;s.new_password=a,s.re_new_password=t,j.Z.resetUserPassword(s).then((function(){e((0,f.PV)({message:"Password has been reset successfully!",variant:"success"}))})).catch((function(){e((0,f.PV)({message:"This password link is expired!",variant:"error"}))})),N(g)})),children:[(0,v.jsx)(l.Qr,{name:"new_password",control:c,render:function(e){var s,r=e.field;return(0,v.jsx)(n.Z,(0,a.Z)((0,a.Z)({},r),{},{className:"mb-24",label:"Password",type:"password",error:!!P.new_password,helperText:null===P||void 0===P||null===(s=P.new_password)||void 0===s?void 0:s.message,variant:"outlined",required:!0,fullWidth:!0}))}}),(0,v.jsx)(l.Qr,{name:"re_new_password",control:c,render:function(e){var s,r=e.field;return(0,v.jsx)(n.Z,(0,a.Z)((0,a.Z)({},r),{},{className:"mb-24",label:"Password (Confirm)",type:"password",error:!!P.re_new_password,helperText:null===P||void 0===P||null===(s=P.re_new_password)||void 0===s?void 0:s.message,variant:"outlined",required:!0,fullWidth:!0}))}}),(0,v.jsx)(i.Z,{variant:"contained",color:"secondary",className:" w-full mt-4","aria-label":"Register",disabled:d.Z.isEmpty(k)||!Z,type:"submit",size:"large",children:"Reset your password"}),(0,v.jsxs)("div",{className:"flex items-center mt-16",children:[(0,v.jsx)("div",{className:"flex-auto mt-px border-t"}),(0,v.jsxs)("div",{className:"flex items-baseline mt-2 font-medium",children:[(0,v.jsx)(o.Z,{children:"Return to"}),(0,v.jsx)(w.rU,{className:"ml-4",to:"/sign-in",children:"Sign In"})]}),(0,v.jsx)("div",{className:"flex-auto mt-px border-t"})]})]})]})})})]})})}}}]);